<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home - WhatsApp SN</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav th:replace="fragments/navbar.html :: navbar"> </nav>

<div class="container mt-5">
    <div class="row g-4 justify-content-center">

        <!-- Recently Visited Chatrooms Card -->
        <div class="col-md-4" style="min-height: 600px">
            <div class="card shadow h-100" style="height: 600px; min-width: 340px;">
                <div class="card-body overflow-auto">
                    <h2 class="card-title mb-4">Recently Visited Chatrooms</h2>

                    <div th:if="${#lists.isEmpty(recentChatrooms)}" class="text-muted">
                        You havenâ€™t visited any chatrooms yet.
                    </div>

                    <div class="list-group" th:unless="${#lists.isEmpty(recentChatrooms)}">
                        <div th:each="chat : ${recentChatrooms}" class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <strong th:text="${chat.name}">Chatroom Name</strong>
                                <span class="ms-2 badge"
                                      th:switch="${chat.type.name()}">
                            <span th:case="'GROUP'" class="bg-info text-dark">Group</span>
                            <span th:case="'COMMUNITY'" class="bg-success">Community</span>
                            <span th:case="'PRIVATE'" class="bg-warning text-dark">Private</span>
                            <span th:case="*" class="bg-secondary">Unknown</span>
                        </span>
                            </div>
                            <a th:href="@{/chatrooms/{id}/view-chatroom(id=${chat.id})}"
                               class="btn btn-outline-primary btn-sm">Chat</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>


        <!-- Welcome Card -->
        <div class="col-md-4">
            <div class="card shadow h-100 text-center" style="height: 600px; min-width: 340px;">
                <div class="card-body d-flex flex-column justify-content-center">
                    <h2 class="card-title mb-4">Welcome!</h2>
                    <p><strong>Name:</strong> <span th:text="${name}"></span></p>
                    <p><strong>Email:</strong> <span th:text="${email}"></span></p>
                    <a href="/logout" class="btn btn-danger mt-3">Logout</a>
                </div>
            </div>
        </div>

        <!-- Placeholder / Future Feature Card -->
        <div class="col-md-4">
            <div class="card shadow h-100 text-center" style="height: 600px; min-width: 340px;">
                <div class="card-body d-flex flex-column justify-content-center">
                    <h5 class="card-title">Coming Soon</h5>
                    <p class="text-muted">This section will host future features like:</p>
                    <ul class="list-unstyled">
                        <li>ğŸ“ Draft messages</li>
                        <li>ğŸ“ Recent files</li>
                        <li>ğŸ“Š Usage stats</li>
                    </ul>
                    <small class="text-muted">Stay tuned!</small>
                </div>
            </div>
        </div>

    </div>
</div>

<footer th:replace="fragments/footer.html :: footer"> </footer>
<div th:insert="fragments/scripts.html :: bootstrapScript"></div>

</body>
</html>
